<!-- Main Header -->
<div data-sticky-container style="margin-bottom: 4em">
  <header class="site-header" data-sticky data-options="marginTop:0; stickyOn:small;">
    <div class="grid-container">
      <div class="grid-x grid-margin-x align-middle">
        <!-- Logo -->
        <div class="cell small-8 medium-3">
          <a href="/" class="site-logo">
            <span class="show-for-sr">Another Techie Blog</span>
            <img src="/images/logo.png" alt="Logo for Another Tech Blog in Navigation" width="180" height="40">
          </a>
        </div>
        
        <!-- Mobile Menu Toggle - REQUIRED FOR FOUNDATION MOBILE MENU -->
        <div class="cell small-4 show-for-medium">
          <button class="menu-icon dark" type="button" 
                  data-toggle="offCanvas" 
                  aria-label="Toggle menu"
                  aria-expanded="false"
                  aria-controls="offCanvas"></button>
        </div>
        
        <!-- Desktop Navigation -->
        <div class="cell medium-12 large-9">
          <nav class="desktop-navigation show-for-large" role="navigation" aria-label="Main navigation">
            <ul class="dropdown menu align-right" data-dropdown-menu>
              {% if site.data.navigation %}
                {% for item in site.data.navigation %}
                  <li{% if page.url == item.link %} class="active"{% endif %}>
                    <a href="{{ item.link | default: '#' }}" {% if item.subpages %}aria-haspopup="true"{% endif %}>
                      {{ item.name | default: 'Unnamed Item' }}
                    </a>
                    {% if item.subpages %}
                      <ul class="menu vertical">
                        {% for subitem in item.subpages %}
                          <li{% if subitem.featured %} class="featured"{% endif %}>
                            <a href="{{ subitem.link }}">{{ subitem.name }}</a>
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </li>
                {% endfor %}
              {% else %}
                <li><a href="#">No navigation items available</a></li>
              {% endif %}
            </ul>
          </nav>
        </div>

        <!-- Mobile Menu Structure - Add this after your desktop navigation -->
        <div class="off-canvas position-right show-for-medium" id="offCanvas" data-off-canvas>
          <!-- Close button -->
          <button class="close-button" aria-label="Close menu" type="button" data-close>
            <span aria-hidden="true">&times;</span>
          </button>
          <!-- Mobile Menu Content -->
          <ul class="vertical menu">
            {% if site.data.navigation %}
              {% for item in site.data.navigation %}
                <li{% if page.url == item.link %} class="active"{% endif %}>
                  <a href="{{ item.link | default: '#' }}">{{ item.name | default: 'Unnamed Item' }}</a>
                  {% if item.subpages %}
                    <ul class="nested vertical menu">
                      {% for subitem in item.subpages %}
                        <li{% if subitem.featured %} class="featured"{% endif %}>
                          <a href="{{ subitem.link }}">{{ subitem.name }}</a>
                        </li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                </li>
              {% endfor %}
            {% else %}
              <li><a href="#">No navigation items available</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    </div>
  </header>
</div>